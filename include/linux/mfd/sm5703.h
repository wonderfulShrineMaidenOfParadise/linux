/* SPDX-License-Identifier: GPL-2.0-only */

#ifndef _SM5703_H
#define _SM5703_H

struct sm5703_dev {
	struct device *dev;
	struct regmap *regmap;
	struct gpio_desc *reset_gpio;
};

// Regulator-related defines

#define SM5703_REG_LDO1				0x1A
#define SM5703_REG_LDO2				0x1B
#define SM5703_REG_LDO3				0x1C
#define SM5703_LDO_EN				BIT(3)
#define SM5703_LDO_VOLT_MASK			0x7
#define SM5703_BUCK_VOLT_MASK			0x1F
#define SM5703_REG_USBLDO12			0x1C
#define SM5703_REG_EN_USBLDO1			BIT(6)
#define SM5703_REG_EN_USBLDO2			BIT(7)
#define SM5703_REG_BUCK				0x1D
#define SM5703_REG_EN_BUCK			BIT(6)
#define SM5703_USBLDO_MICROVOLT			4800000
#define SM5703_VBUS_MICROVOLT			5000000

// Fuel-Gauge-related defines

#define SM5703_FG_REG_DEVICE_ID			0x00
#define SM5703_FG_REG_CNTL			0x01
#define SM5703_FG_REG_INTFG			0x02
#define SM5703_FG_REG_INTFG_MASK		0x03
#define SM5703_FG_REG_STATUS			0x04
#define SM5703_FG_REG_SOC			0x05
#define SM5703_FG_REG_OCV			0x06
#define SM5703_FG_REG_VOLTAGE			0x07
#define SM5703_FG_REG_CURRENT			0x08
#define SM5703_FG_REG_TEMPERATURE		0x09
#define SM5703_FG_REG_CURRENT_EST		0x85
#define SM5703_FG_REG_FG_OP_STATUS		0x10

// Flash LED driver-related defines

#define SM5703_FLEDCNTL1			0x14
#define SM5703_FLEDCNTL2			0x15
#define SM5703_FLEDCNTL3			0x16
#define SM5703_FLEDCNTL4			0x17
#define SM5703_FLEDCNTL5			0x18
#define SM5703_FLEDCNTL6			0x19

#define SM5703_FLEDEN_MASK			0x03
#define SM5703_FLEDEN_DISABLE			0x00
#define SM5703_FLEDEN_MOVIE_MODE		0x01
#define SM5703_FLEDEN_FLASH_MODE		0x02
#define SM5703_FLEDEN_EXTERNAL			0x03

#define SM5703_IFLED_MASK			0x1F
#define SM5703_IMLED_MASK			0x1F

// Charger-related, IRQ and device ID defines

#define SM5703_REG_CNTL				0x0C
#define SM5703_VBUSCNTL				0x0D
#define SM5703_CHGCNTL1				0x0E
#define SM5703_CHGCNTL2				0x0F
#define SM5703_CHGCNTL3				0x10
#define SM5703_CHGCNTL4				0x11
#define SM5703_CHGCNTL5				0x12
#define SM5703_CHGCNTL6				0x13
#define SM5703_OTGCURRENTCNTL			0x60
#define SM5703_Q3LIMITCNTL			0x66
#define SM5703_DEVICE_ID			0x1E
#define SM5703_OPERATION_MODE			0x07
#define SM5703_OPERATION_MODE_MASK		0x07

#define SM5703_OPERATION_MODE_SUSPEND		0x00
#define SM5703_OPERATION_MODE_CHARGING_OFF	0x04
#define SM5703_OPERATION_MODE_CHARGING_ON	0x05
#define SM5703_OPERATION_MODE_FLASH_BOOST_MODE	0x06
#define SM5703_OPERATION_MODE_USB_OTG_MODE	0x07

#define SM5703_BSTOUT				0x0F
#define SM5703_BSTOUT_MASK			0x0F
#define SM5703_BSTOUT_SHIFT			0

#define SM5703_BSTOUT_4P5			0x05
#define SM5703_BSTOUT_5P0			0x0A
#define SM5703_BSTOUT_5P1			0x0B

#define SM5703_IRQ_STATUS1			0x08
#define SM5703_IRQ_STATUS2			0x09
#define SM5703_IRQ_STATUS3			0x0A
#define SM5703_IRQ_STATUS4			0x0B
#define SM5703_IRQ_STATUS5			0x6B

#define SM5703_STATUS1_OTGFAIL			0x80
#define SM5703_STATUS3_DONE			0x08
#define SM5703_STATUS3_TOPOFF			0x04
#define SM5703_STATUS3_CHGON			0x01
#define SM5703_STATUS5_VBUSOVP			0x80
#define SM5703_STATUS5_VBUSUVLO			0x40
#define SM5703_STATUS5_VBUSOK			0x20

#define SM5703_AUTOSET_MASK			(1 << 4)
#define SM5703_AUTOSTOP_MASK			(1 << 7)

#endif
